{"version":3,"sources":["src/app.es6"],"names":[],"mappings":";;;;;;AAAA,EAAG,QAAH,EAAc,KAAd,CAAoB,YAAM;;AAEzB,KAAM,gBAAgB,GAAG,IAAH,CAAQ,MAAR,CAAe,IAAf,EAAqB,KAA3C;;AAEG;AACH,UAAS,OAAT,CAAiB,GAAjB,EAAsB;AAChB,SAAO,EAAE,OAAF,CAAU,GAAV,CAAP;AACF;;AAED;;AATsB,KAUnB,QAVmB;AAYrB,oBAAY,IAAZ,EAAkB;AAAA;;AACd,QAAK,IAAL,GAAY,KAAK,IAAjB;AACA,QAAK,OAAL,GAAe,KAAK,OAApB;AACA,QAAK,OAAL,GAAe,KAAK,OAApB;AACA,QAAK,WAAL,GAAmB,KAAK,WAAxB;AACA,QAAK,MAAL,GAAc,KAAK,MAAnB;;AAEA,QAAK,IAAL;AACH;;AApBoB;AAAA;AAAA,0BAsBb;;AAEJ,SAAK,UAAL,GAAkB,EAAE,KAAK,OAAP,EAAgB,KAAhB,EAAlB;;AAEA;AACA,SAAK,MAAL,GAAc;AACV,UAAK,CADK;AAEV,YAAO,EAFG;AAGV,aAAQ,EAHE;AAIV,WAAM;AAJI,KAAd;AAMA,SAAK,KAAL,GAAa,KAAK,UAAL,GAAkB,KAAK,MAAL,CAAY,IAA9B,GAAqC,KAAK,MAAL,CAAY,KAA9D;AACA,SAAK,MAAL,GAAc,KAAK,WAAL,GAAmB,KAAK,MAAL,CAAY,GAA/B,GAAqC,KAAK,MAAL,CAAY,MAA/D;;AAEA;AACA,SAAK,OAAL,CAAa,SAAb,GAAyB,EAAzB;AACA,QAAI,MAAM,GAAG,MAAH,CAAU,KAAK,OAAf,EAAwB,MAAxB,CAA+B,KAA/B,CAAV;AACA,QAAI,IAAJ,CAAS,OAAT,EAAmB,KAAK,KAAL,GAAa,KAAK,MAAL,CAAY,IAAzB,GAAgC,KAAK,MAAL,CAAY,KAA/D;AACA,QAAI,IAAJ,CAAS,QAAT,EAAmB,KAAK,MAAL,GAAc,KAAK,MAAL,CAAY,GAA1B,GAAgC,KAAK,MAAL,CAAY,MAA/D;;AAEA;AACA,SAAK,SAAL,GAAiB,IACd,MADc,CACP,GADO,EAEd,IAFc,CAET,OAFS,EAEA,WAFA,EAGd,IAHc,CAGT,WAHS,EAGG,eAAa,KAAK,MAAL,CAAY,IAAzB,GAA8B,GAA9B,GAAkC,KAAK,MAAL,CAAY,GAA9C,GAAkD,GAHrD,CAAjB;AAIN;AA/CuB;;AAAA;AAAA;;AAkDzB,SAAQ,qBAAR;AACI;AADJ,EAEO,IAFP,CAEY,UAAS,IAAT,EAAe;AACnB;AACA,IAAE,WAAF,EAAe,IAAf,CAAoB,KAAK,MAAL,CAAY,MAAhC;;AAEA,MAAM,eAAe,IAAI,QAAJ,CAAa;AACvC,YAAS,SAAS,aAAT,CAAuB,MAAvB,CAD8B;AAEvC,SAAM,KAAK,MAF4B;AAGpC,YAAS,CAAC,CAAD,EAAG,GAAH,CAH2B;AAIpC,gBAAa,GAJuB;AAKpC,WAAQ;AAL4B,GAAb,CAArB;;AAQN,UAAQ,GAAR,CAAY,IAAZ;AACK,EAfP;AAgBA,CAlED","file":"script.js","sourcesContent":["$( document ).ready(() => {\n\n\tconst dateStrToYear = d3.time.format(\"%Y\").parse;\n   \n    //Load JSON-encoded data using a GET HTTP request\n\tfunction getData(url) {\n      \treturn $.getJSON(url); \n    }\n\n    //Class declaration\n\tclass MovieViz {\n\n\t    constructor(opts) {\n\t        this.data = opts.data;\n\t        this.element = opts.element;\n\t        this.xDomain = opts.xDomain;\n\t        this.chartHeight = opts.chartHeight;\n\t        this.genres = opts.genres;\n\n\t        this.draw();\n\t    }\n\n\t    draw () {\n\n\t        this.chartWidth = $(this.element).width();\n\t      \n\t        // define width, height with the margin\n\t        this.margin = {\n\t            top: 5,\n\t            right: 20,\n\t            bottom: 20,\n\t            left: 20\n\t        };\n\t        this.width = this.chartWidth - this.margin.left - this.margin.right;\n\t        this.height = this.chartHeight - this.margin.top - this.margin.bottom;\n\t        \n\t        // set up parent element and SVG\n\t        this.element.innerHTML = '';\n\t        var svg = d3.select(this.element).append('svg');\n\t        svg.attr('width',  this.width + this.margin.left + this.margin.right);\n\t        svg.attr('height', this.height + this.margin.top + this.margin.bottom);\n\n\t        // we'll actually be appending to a <g class='baseGroup'> element\n\t        this.baseGroup = svg\n\t          .append('g')\n\t          .attr(\"class\", \"baseGroup\")\n\t          .attr('transform','translate('+this.margin.left+','+this.margin.top+')');\n\t\t}\n\t}\n\n\tgetData('./admin/movies.json')\n    \t//then() method takes to params: callback functions for the success and failure cases of the Promise\n      \t.then(function(data) {\n\t        //add the total number of movies\n\t        $(\".dek span\").html(data.movies.length);\n\n\t        const testMovieViz = new MovieViz({\n\t\t\t\telement: document.querySelector('#viz'),\n\t\t\t\tdata: data.movies,\n\t\t\t    xDomain: [1,3.5], \n\t\t\t    chartHeight: 400,\n\t\t\t    genres: 'all'\n\t\t\t}); \n\n\t\t\tconsole.log(data);\n      \t});\n});\n\n"]}